<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>a a a simple making dvc tcode bundle set</title>

</head>
<body onload="init()">
  <div>
    <div style="margin: 10px">
      <button onclick="save()">save tCodeBundleSet</button>
      <button onclick="saveDvc()">save dvcSrtBundleSet</button>
    </div>
    <div style="margin: 10px; border: solid 1px; padding: 10px" id="id-content"></div>
  </div>

  <script type="text/javascript" src="fnc/fnc-save.js"></script>
  <script type="text/javascript" src="fnc/fnc-dvc-srt.js"></script>
  <script>
    // dvc: device
    let dvcTCodeStrSetList = [
      'bk/3/bkI0,bkI1,bkI2/2/bkI0_bkI1,bkI0_bkI2',
      'b2/4/b2I0,b2I1,b2I2,b2I3/3/b2I0_b2I1,b2I0_b2I2,b2I0_b2I3',
      'br/5/brI0,brI1,brI2,brI3,brI4/4/brI0_brI1,brI0_brI2,brI0_brI3,brI0_brI4',
      'b1/3/b1I0,b1I1,b1I2/2/b1I0_b1I1,b1I0_b1I2',
      'bl/5/blI0,blI1,blI2,blI3,blI4/4/blI0_blI1,blI0_blI2,blI0_blI3,blI0_blI4',
      'c/6/cI0,cI1,cI2,cI3,cI4,cI5/5/cI0_cI1,cI0_cI2,cI0_cI3,cI0_cI4,cI0_cI5',
      'b0/3/b0I0,b0I1,b0I2/2/b0I0_b0I1,b0I0_b0I2',
      'l/5/lI0,lI1,lI2,lI3,lI4/4/lI0_lI1,lI0_lI2,lI0_lI3,lI0_lI4',
      't000/8/bk,b2,br,b1,bl,c,b0,l/7/c_l,c_bk,c_b1,b1_b0,b1_b2,b1_br,b1_bl'
    ]

    const tCodeSet00 = [
      'br/1/brI0/0/',
      'b0/1/b0I0/0/',
      'b1/1/b1I0/0/',
      'c/1/cI0/0/',
      'bl/1/blI0/0/',
      'tp000-st0/5/br,b0,b1,c,bl/4/c_b0,b0_b1,b1_br,b1_bl'
    ]

    const tCodeSet01 = [
      'br/3/brI0,brI1,brI2/2/brI0_brI1,brI1_brI2',
      'b0/1/b0I0/0/',
      'b1/1/b1I0/0/',
      'c/4/cI0,cI1,cI2,cI3/3/cI0_cI1,cI0_cI2,cI0_cI3',
      'bl/3/blI0,blI1,blI2/2/blI0_blI1,blI1_blI2',
      'tp000-st1/5/br,b0,b1,c,bl/4/c_b0,b0_b1,b1_br,b1_bl'
    ]


    function init() {
      dvcTCodeStrSetList = tCodeSet01

      // const infoList = createDvcSrtInfoListByTCodeSet(dvcTCodeStrSetList)
      // infoList.sort((a, b) => Number(a.type < b.type))
      // console.log(infoList)
      //
      // const strSetList = []
      // for (const info of infoList) {
      //   const strSet = createDvcSrtStrSet(info)
      //   strSetList.push(strSet)
      // }
      // console.log(strSetList)
      //
      // const dvcSrtInfoList = createDvcSrtInfoList(strSetList)
      // console.log(dvcSrtInfoList)
      //
      // const bundleSet = createDvcSrtBundleStrSet(infoList)
      // console.log(bundleSet)
      // // saveString(bundleSet.uCode, bundleSet.bundleSet)
      //
      // const bundleInfo = createDvcSrtBundleInfo(bundleSet.bundleSet)
      // console.log(bundleInfo)
      //
      const tCodeBundleSet = createDvcSrtTCodeBundleStrSet(dvcTCodeStrSetList)
      console.log(tCodeBundleSet)
      // saveString(tCodeBundleSet.split('/')[0], tCodeBundleSet)
      //
      // const tCodeSetList = createDvcSrtInfoListByTCodeBundleSet(tCodeBundleSet)
      // console.log(tCodeSetList)

      const content = document.getElementById('id-content')
      content.innerText = tCodeBundleSet


      const infoList = createDvcSrtInfoListByTCodeSet(dvcTCodeStrSetList)
      console.log(infoList)
      const bundleSet = createDvcSrtBundleStrSet(infoList)
      console.log(bundleSet)
    }

    function save() {
      const tCodeBundleSet = createDvcSrtTCodeBundleStrSet(dvcTCodeStrSetList)
      saveString(tCodeBundleSet.split('\n')[0], tCodeBundleSet)
    }

    function saveDvc() {
      const infoList = createDvcSrtInfoListByTCodeSet(dvcTCodeStrSetList)
      const bundleSet = createDvcSrtBundleStrSet(infoList)
      // console.log(bundleSet)
      saveString(bundleSet.uCode, bundleSet.bundleSet)
    }
  </script>
</body>
</html>